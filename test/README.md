# Golden тесты для UiButton

Этот файл содержит инструкции по запуску golden тестов для виджета `UiButton`.

## Структура

- `flutter_test_config.dart` - конфигурация для загрузки кастомных шрифтов перед запуском тестов
- `ui_button_golden_test.dart` - golden тесты для различных вариантов UiButton
- `goldens/` - папка с эталонными изображениями (создаётся автоматически)

## Настройка шрифтов

В файле `flutter_test_config.dart` настроена автоматическая загрузка кастомных шрифтов RobotoLocal перед запуском тестов. Это необходимо, так как по умолчанию Flutter использует шрифт "Ahem" в тестах.

## Запуск тестов

### Первый запуск (создание эталонных изображений)

Для создания эталонных golden файлов запустите:

```bash
fvm flutter test test/ui_button_golden_test.dart --update-goldens
```

Эта команда создаст папку `test/goldens/` и сохранит в неё эталонные изображения всех вариантов кнопок.

### Последующие запуски (проверка)

Для проверки соответствия текущего состояния виджетов эталонным изображениям:

```bash
fvm flutter test test/ui_button_golden_test.dart
```

## Покрытие тестами

Golden тесты покрывают следующие варианты UiButton:

- **Типы кнопок**: accent, neutral, success, critical
- **Стили**: main (с заливкой), minor (с обводкой)
- **Размеры**: m (средний), s (маленький)
- **Состояния**: defaultState, hover, disabled
- **Варианты с иконками**: с иконкой слева, справа, только иконка (круглая)
- **Формы**: squircle (скруглённые углы), circle (круглая)
- **Темы**: светлая и тёмная

## Примечания

- Если шрифты не загружаются правильно, проверьте путь к шрифтам в `flutter_test_config.dart`
- Убедитесь, что шрифты присутствуют в папке `fonts/` проекта
- Golden файлы должны быть закоммичены в репозиторий для CI/CD

